os: linux
dist: focal
language: java
jdk: openjdk17
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - main
    - /^v\d+\.\d+(\.\d+)?(-\S*)?$/
addons:
  sonarcloud:
    organization: molgenis
    token:
      secure: B8j40t3XBkCA3hruTtZH1AP1H2QhZFYKHrpvwpfo9cYihP4h6ynXeelyEhPbjao4flAnCtiNzUXq7/qAb7di1SPA+607Ip12EGxPwLGosoQlNEHY1js06mpzSqUh80cZDz1SAzJpvkGQjUHPUud2Namx4cQhdng++t5D5SlI7GZbqqC66/34UGI/qIy2CynNA2BFZRZ7u8HuU8wGenAGcXWP4aFZrVPc9Jr0hzSEYQTg5KizWdqiZ5aCEm8Z7ikJtyyTx2ILIJHOk0ybofwpo9X+gz0MxVhTR1F44WM/sducG2dfdFfstneVDP9qWuxdmV7k2d/YjwtLUlPLLmNxXWcsL/8qGP3vo5793o6+MA2yqSfriTm5ahOdgDiewQYZf/MtR6muRVj58WGITCCz4ITJQpg9ouZBgaae6spGC7yQkHfvy3AiVGXzrIJOav7g0e2ZZ0ctYqQHvqosy94JT1pSsTcwyzyAGsWz0CS9fECG4V4RAoWDP3owR5wyHFvbQjZHHRAeVrI4yfw/BGxVDnX+rhEbdRlEbhGTHkmgHuQDf2dGYvPVLEoYT6H73vL2HyAGFhzW0bqY2wNqBwXC9xn4rZ9vvpIS/nqdyBA7ZYNi9oHERf6YkhLfObSiobdtGzgyY+InsMH85DOL9//rWOwOVccruA8GGG2f0wA6YKc=
script:
  - mvn clean install sonar:sonar -Pcoverage -Dsonar.projectKey=molgenis_vip-inheritance-matcher
deploy:
  provider: releases
  api_key:
    secure: QsVP98pMmeSEWE3RmI7GjIOCSLuJgUpvyTu+umf+zGFAf0LGlgxlR9vjTfMd1d2H4nbSO2/vZgwxMgFr57+AdzucmBeaCzCnFPOACwh4eYDEltkWDXQGsLdi+UaAoCOBO5Ldz4NhDFhnQA1omFb2dW3E26ZliTUj2WXIqJ1j7qUCgbZFElX50sQDPYVrBop3cDrPIxxKCIw9FTVv1gPv6V4shdOYLDpekCAsYlwoBHHB2jgalL5G+c/RQaZkSobkwcV4u2+FfyjHcOxasLrpa+soADkTIwqxaZNm30RQYIT+5loKqGj8QydXSeesCR4xdnsBkPG7a2c6qtVE+MkekpuDj8kyTuwB9wriEnIsYOE1zDNr1jSc+kLT79itubU1VX8ibhdgLXQPG6LA+Q8tTcd7cCzlhRk4T7TkeVOBpQPVzZq5HWMYi34aNYj0yY4lFQHBxBpd1RWJqp0sdf3YH6zlxhV2LR2UWoqrbGR5scULDnlH8UD3XbK5MTVljYfPiuwgPZDbk0XULKr1zGoKeHMkhkv3/Y9yNLsVO7sMJ0gjNucfeg+Ti5JzDC0cTwe/dtK6L7VfGAIv7CzCWkbpuZMbMhb3jFldih/nCRDvYia3b88VTexiiW/o6xrV0zSLJJ0QPeAyF6z/+/KEyufuS6hmOgdE1L1W46PYlmCx56E=
  file: target/vcf-inheritance-matcher.jar
  prerelease: true
  on:
    tags: true
  edge: true # opt in to dpl v2
